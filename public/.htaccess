<FilesMatch "\.(properties|json)$">
	Header add Cache-Control "max-age=0, must-revalidate"
</FilesMatch>

<Files index.html>
  FileETag None
  <IfModule mod_headers.c>
     Header unset ETag
     Header set Cache-Control "no-cache, no-store, must-revalidate"
     Header set Pragma "no-cache"
     Header set Expires "0"
  </IfModule>
</Files>

AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE text/javascript
AddOutputFilterByType DEFLATE text/json
AddOutputFilterByType DEFLATE text/properties
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript
AddOutputFilterByType DEFLATE application/json

RewriteEngine on

RewriteRule ^(resources.*|libs\.js.*|bundle\.js.*)$ $1

# Don't redirect files and directories
RewriteRule ^.*\.[^\/]+$ - [L]
RewriteRule ^.*\/$ - [L]

# Redirect all other request to index.html
RewriteRule ^ index.html [L]

<FilesMatch "\.(css|jpg|jpeg|png|PNG|gif|js|ico|svg|woff|woff2|ttf|mp3)$">
  Header set Cache-Control "max-age=2628000, public"
</FilesMatch>

ErrorDocument 404 /404
